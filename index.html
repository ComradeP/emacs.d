<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
               "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Aaron Bedra's Emacs 24 Configuration</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
<meta name="title" content="Aaron Bedra's Emacs 24 Configuration"/>
<meta name="generator" content="Org-mode"/>
<meta name="generated" content="2014-07-07T12:55-0500"/>
<meta name="author" content="Aaron Bedra"/>
<meta name="description" content=""/>
<meta name="keywords" content=""/>
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  html { font-family: Times, serif; font-size: 12pt; }
  .title  { text-align: center; }
  .todo   { color: red; }
  .done   { color: green; }
  .tag    { background-color: #add8e6; font-weight:normal }
  .target { }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  {margin-left:auto; margin-right:0px;  text-align:right;}
  .left   {margin-left:0px;  margin-right:auto; text-align:left;}
  .center {margin-left:auto; margin-right:auto; text-align:center;}
  p.verse { margin-left: 3% }
  pre {
	border: 1pt solid #AEBDCC;
	background-color: #F3F5F7;
	padding: 5pt;
	font-family: courier, monospace;
        font-size: 90%;
        overflow:auto;
  }
  table { border-collapse: collapse; }
  td, th { vertical-align: top;  }
  th.right  { text-align:center;  }
  th.left   { text-align:center;   }
  th.center { text-align:center; }
  td.right  { text-align:right;  }
  td.left   { text-align:left;   }
  td.center { text-align:center; }
  dt { font-weight: bold; }
  div.figure { padding: 0.5em; }
  div.figure p { text-align: center; }
  div.inlinetask {
    padding:10px;
    border:2px solid gray;
    margin:10px;
    background: #ffffcc;
  }
  textarea { overflow-x: auto; }
  .linenr { font-size:smaller }
  .code-highlighted {background-color:#ffff00;}
  .org-info-js_info-navigation { border-style:none; }
  #org-info-js_console-label { font-size:10px; font-weight:bold;
                               white-space:nowrap; }
  .org-info-js_search-highlight {background-color:#ffff00; color:#000000;
                                 font-weight:bold; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="http://thomasf.github.io/solarized-css/solarized-light.min.css" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>

</head>
<body>

<div id="preamble">

</div>

<div id="content">
<h1 class="title">Aaron Bedra's Emacs 24 Configuration</h1>


<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">Configuration</a>
<ul>
<li><a href="#sec-1-1">User details</a></li>
<li><a href="#sec-1-2">Environment</a></li>
<li><a href="#sec-1-3">Package Management</a>
<ul>
<li><a href="#sec-1-3-1">Install default packages</a></li>
</ul>
</li>
<li><a href="#sec-1-4">Start-up options</a>
<ul>
<li><a href="#sec-1-4-1">Splash Screen</a></li>
<li><a href="#sec-1-4-2">Scroll bar, Tool bar, Menu bar</a></li>
<li><a href="#sec-1-4-3">Marking text</a></li>
<li><a href="#sec-1-4-4">Display Settings</a></li>
<li><a href="#sec-1-4-5">Indentation</a></li>
<li><a href="#sec-1-4-6">Backup files</a></li>
<li><a href="#sec-1-4-7">Yes and No</a></li>
<li><a href="#sec-1-4-8">Key bindings</a></li>
<li><a href="#sec-1-4-9">Misc</a></li>
<li><a href="#sec-1-4-10">Vendor directory</a></li>
</ul>
</li>
<li><a href="#sec-1-5">Org mode</a>
<ul>
<li><a href="#sec-1-5-1">org-babel</a></li>
</ul>
</li>
<li><a href="#sec-1-6">Utilities</a>
<ul>
<li><a href="#sec-1-6-1">deft</a></li>
<li><a href="#sec-1-6-2">Smex</a></li>
<li><a href="#sec-1-6-3">Ido</a></li>
<li><a href="#sec-1-6-4">Column number mode</a></li>
<li><a href="#sec-1-6-5">Temporary file management</a></li>
<li><a href="#sec-1-6-6">autopair-mode</a></li>
<li><a href="#sec-1-6-7">Power lisp</a></li>
<li><a href="#sec-1-6-8">auto-complete</a></li>
<li><a href="#sec-1-6-9">Indentation and buffer cleanup</a></li>
<li><a href="#sec-1-6-10">flyspell</a></li>
</ul>
</li>
<li><a href="#sec-1-7">Language Hooks</a>
<ul>
<li><a href="#sec-1-7-1">Ruby</a></li>
<li><a href="#sec-1-7-2">RVM</a></li>
<li><a href="#sec-1-7-3">YAML</a></li>
<li><a href="#sec-1-7-4">CoffeeScript Mode</a></li>
<li><a href="#sec-1-7-5">JavaScript Mode</a></li>
<li><a href="#sec-1-7-6">Markdown Mode</a></li>
<li><a href="#sec-1-7-7">CPSA Mode</a></li>
<li><a href="#sec-1-7-8">Themes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-1" class="outline-2">
<h2 id="sec-1">Configuration</h2>
<div class="outline-text-2" id="text-1">

<p>  Emacs is a special beast. Taming it takes a lot of care. In an
  attempt to document/explain/share with the rest of the world, this
  is my attempt at configuration as a literate program. It also shows
  off the awesome power of org-mode, which makes all of this possible.
</p>
</div>

<div id="outline-container-1-1" class="outline-3">
<h3 id="sec-1-1">User details</h3>
<div class="outline-text-3" id="text-1-1">

<p>   Emacs will normally pick this up automatically, but this way I can
   be sure things are set properly.
</p>


<pre class="src src-emacs-lisp">(setq user-full-name <span style="color: #2aa198;">"Aaron Bedra"</span>)
(setq user-mail-address <span style="color: #2aa198;">"aaron@aaronbedra.com"</span>)
</pre>

</div>

</div>

<div id="outline-container-1-2" class="outline-3">
<h3 id="sec-1-2">Environment</h3>
<div class="outline-text-3" id="text-1-2">

<p>   There are plenty of things installed outside of the default
   PATH. This allows me to establish additional PATH information so
   that everything functions as it should. Require common lisp
   mode. Emacs lisp is really only a subset of common lisp, and I need
   to have some of the additional functionality to make this
   configuration and its dependencies work properly.
</p>


<pre class="src src-emacs-lisp">(setenv <span style="color: #2aa198;">"PATH"</span> (concat <span style="color: #2aa198;">"/usr/local/bin:/Users/abedra/.cabal/bin:"</span> (getenv <span style="color: #2aa198;">"PATH"</span>)))
(<span style="color: #859900; font-weight: bold;">require</span> '<span style="color: #268bd2; font-weight: bold;">cl</span>)
</pre>

</div>

</div>

<div id="outline-container-1-3" class="outline-3">
<h3 id="sec-1-3">Package Management</h3>
<div class="outline-text-3" id="text-1-3">

<p>   Since Emacs 24, the emacs lisp package archive (elpa) is included
   by default. This provides a nice way to install the additions
   needed to make things work properly. Since the default package
   archive doesn't include everything I need, the marmalade, and melpa
   repositories are also added.
</p>


<pre class="src src-emacs-lisp">(load <span style="color: #2aa198;">"package"</span>)
(package-initialize)
(add-to-list 'package-archives
             '(<span style="color: #2aa198;">"marmalade"</span> . <span style="color: #2aa198;">"http://marmalade-repo.org/packages/"</span>))
(add-to-list 'package-archives
             '(<span style="color: #2aa198;">"melpa"</span> . <span style="color: #2aa198;">"http://melpa.milkbox.net/packages/"</span>) t)

(setq package-archive-enable-alist '((<span style="color: #2aa198;">"melpa"</span> deft magit)))
</pre>



</div>

<div id="outline-container-1-3-1" class="outline-4">
<h4 id="sec-1-3-1">Install default packages</h4>
<div class="outline-text-4" id="text-1-3-1">

<p>    When Emacs boots, check to make sure all of the packages defined
    in <code>abedra/packages</code> are installed. If not, have elpa take care of
    it.
</p>


<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">abedra/packages-installed-p</span> ()
  (<span style="color: #859900; font-weight: bold;">loop</span> for pkg in abedra/packages
        when (not (package-installed-p pkg)) do (<span style="color: #859900; font-weight: bold;">return</span> nil)
        finally (<span style="color: #859900; font-weight: bold;">return</span> t)))

(<span style="color: #859900; font-weight: bold;">unless</span> (abedra/packages-installed-p)
  (message <span style="color: #2aa198;">"%s"</span> <span style="color: #2aa198;">"Refreshing package database..."</span>)
  (package-refresh-contents)
  (<span style="color: #859900; font-weight: bold;">dolist</span> (pkg abedra/packages)
    (<span style="color: #859900; font-weight: bold;">when</span> (not (package-installed-p pkg))
      (package-install pkg))))
</pre>

</div>
</div>

</div>

<div id="outline-container-1-4" class="outline-3">
<h3 id="sec-1-4">Start-up options</h3>
<div class="outline-text-3" id="text-1-4">


</div>

<div id="outline-container-1-4-1" class="outline-4">
<h4 id="sec-1-4-1">Splash Screen</h4>
<div class="outline-text-4" id="text-1-4-1">

<p>    I want to skip straight to the scratch buffer. This turns off the
    splash screen and puts me straight into the scratch buffer. I
    don't really care to have anything in there either, so turn off
    the message while we're at it. Since I end up using <code>clojure-mode</code>
    most of the time, set the default mode accordingly.
</p>


<pre class="src src-emacs-lisp">(setq inhibit-splash-screen t
      initial-scratch-message nil)

(<span style="color: #859900; font-weight: bold;">when</span> (locate-library <span style="color: #2aa198;">"clojure-mode"</span>)
  (setq initial-major-mode 'clojure-mode))
</pre>

</div>

</div>

<div id="outline-container-1-4-2" class="outline-4">
<h4 id="sec-1-4-2">Scroll bar, Tool bar, Menu bar</h4>
<div class="outline-text-4" id="text-1-4-2">

<p>    Emacs starts up with way to many things. Turn off the scroll bar,
    menu bar, and tool bar. There isn't really a reason to have them
    on.
</p>


<pre class="src src-emacs-lisp">(scroll-bar-mode -1)
(tool-bar-mode -1)
(menu-bar-mode -1)
</pre>

</div>

</div>

<div id="outline-container-1-4-3" class="outline-4">
<h4 id="sec-1-4-3">Marking text</h4>
<div class="outline-text-4" id="text-1-4-3">

<p>    There are some behaviors in Emacs that aren't very
    intuitive. Since I pair with others that don't know how Emacs
    handles highlighting, treat regions like other text editors. This
    means typing when the mark is active will write over the marked
    region. Also, make the common highlighting keystrokes work the way
    most people expect them to. This saves a lot of time explaining
    how to highlight areas of text. Emacs also has it's own clipboard
    and doesn't respond to the system clipboard by default, so tell
    Emacs that we're all friends and can get along.
</p>


<pre class="src src-emacs-lisp">(delete-selection-mode t)
(transient-mark-mode t)
(setq x-select-enable-clipboard t)
</pre>

</div>

</div>

<div id="outline-container-1-4-4" class="outline-4">
<h4 id="sec-1-4-4">Display Settings</h4>
<div class="outline-text-4" id="text-1-4-4">

<p>    I like a few slight modifications to the default display. First, a
    minor tweak to the frame title. It's also nice to be able to see
    when a file actually ends. This will put empty line markers into
    the left hand side.
</p>


<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">when</span> window-system
  (setq frame-title-format '(buffer-file-name <span style="color: #2aa198;">"%f"</span> (<span style="color: #2aa198;">"%b"</span>))))

(setq-default indicate-empty-lines t)
(<span style="color: #859900; font-weight: bold;">when</span> (not indicate-empty-lines)
  (toggle-indicate-empty-lines))
</pre>

</div>

</div>

<div id="outline-container-1-4-5" class="outline-4">
<h4 id="sec-1-4-5">Indentation</h4>
<div class="outline-text-4" id="text-1-4-5">

<p>    There's nothing I dislike more than tabs in my files. Make sure I
    don't share that discomfort with others.
</p>


<pre class="src src-emacs-lisp">(setq tab-width 2
      indent-tabs-mode nil)
</pre>

</div>

</div>

<div id="outline-container-1-4-6" class="outline-4">
<h4 id="sec-1-4-6">Backup files</h4>
<div class="outline-text-4" id="text-1-4-6">

<p>    Some people like to have them. I don't. Rather than pushing them
    to a folder, never to be used, just turn the whole thing off.
</p>


<pre class="src src-emacs-lisp">(setq make-backup-files nil)
</pre>

</div>

</div>

<div id="outline-container-1-4-7" class="outline-4">
<h4 id="sec-1-4-7">Yes and No</h4>
<div class="outline-text-4" id="text-1-4-7">

<p>    Nobody likes to have to type out the full yes or no when Emacs
    asks. Which it does quite often. Make it one character.
</p>


<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">defalias</span> '<span style="color: #268bd2;">yes-or-no-p</span> 'y-or-n-p)
</pre>

</div>

</div>

<div id="outline-container-1-4-8" class="outline-4">
<h4 id="sec-1-4-8">Key bindings</h4>
<div class="outline-text-4" id="text-1-4-8">

<p>    Miscellaneous key binding stuff that doesn't fit anywhere else.
</p>


<pre class="src src-emacs-lisp">(global-set-key (kbd <span style="color: #2aa198;">"RET"</span>) 'newline-and-indent)
(global-set-key (kbd <span style="color: #2aa198;">"C-;"</span>) 'comment-or-uncomment-region)
(global-set-key (kbd <span style="color: #2aa198;">"M-/"</span>) 'hippie-expand)
(global-set-key (kbd <span style="color: #2aa198;">"C-+"</span>) 'text-scale-increase)
(global-set-key (kbd <span style="color: #2aa198;">"C--"</span>) 'text-scale-decrease)
(global-set-key (kbd <span style="color: #2aa198;">"C-c C-k"</span>) 'compile)
</pre>

</div>

</div>

<div id="outline-container-1-4-9" class="outline-4">
<h4 id="sec-1-4-9">Misc</h4>
<div class="outline-text-4" id="text-1-4-9">

<p>    Turn down the time to echo keystrokes so I don't have to wait
    around for things to happen. Dialog boxes are also a bit annoying,
    so just have Emacs use the echo area for everything. Beeping is
    for robots, and I am not a robot. Use a visual indicator instead
    of making horrible noises. Oh, and always highlight parentheses. A
    person could go insane without that.
</p>


<pre class="src src-emacs-lisp">(setq echo-keystrokes 0.1
      use-dialog-box nil
      visible-bell t)
(show-paren-mode t)
</pre>

</div>

</div>

<div id="outline-container-1-4-10" class="outline-4">
<h4 id="sec-1-4-10">Vendor directory</h4>
<div class="outline-text-4" id="text-1-4-10">

<p>    I have a couple of things that don't come from package
    managers. This sets up the directory and makes sure everything is
    loaded.
</p>


<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">defvar</span> <span style="color: #268bd2;">abedra/vendor-dir</span> (expand-file-name <span style="color: #2aa198;">"vendor"</span> user-emacs-directory))
(add-to-list 'load-path abedra/vendor-dir)

(<span style="color: #859900; font-weight: bold;">dolist</span> (project (directory-files abedra/vendor-dir t <span style="color: #2aa198;">"\\w+"</span>))
  (<span style="color: #859900; font-weight: bold;">when</span> (file-directory-p project)
    (add-to-list 'load-path project)))
</pre>

</div>
</div>

</div>

<div id="outline-container-1-5" class="outline-3">
<h3 id="sec-1-5">Org mode</h3>
<div class="outline-text-3" id="text-1-5">

<p>   <code>org-mode</code> is one of the most powerful and amazing features of
   Emacs. I mostly use it for task/day organization and generating
   code snippets in HTML. Just a few tweaks here to make the
   experience better. Enable logging when tasks are complete. This
   puts a time-stamp on the completed task and lets <code>org-agenda</code> mark
   it. Since I usually am doing quite a few things at once, I added
   the <code>INPROGRESS</code> keyword and made the color blue.
</p>
<p>
   The agenda view requires that org files be added to it. The
   <code>personal.org</code> and <code>groupon.org</code> files are my daily items for
   review. I have several habits that I also track. In order to take
   full advantage of this feature <code>org-habit</code> has to be required and
   added to <code>org-modules</code>. A few settings are also tweaked for habit
   mode to make the tracking a little more palatable. The most
   significant of these is <code>org-habit-graph-column</code>. This specifies
   where the graph should start. The default is too low and cuts off a
   lot, so I start it at 80 characters.
</p>


<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">require</span> '<span style="color: #268bd2; font-weight: bold;">org</span>)
(<span style="color: #859900; font-weight: bold;">require</span> '<span style="color: #268bd2; font-weight: bold;">org-install</span>)
(<span style="color: #859900; font-weight: bold;">require</span> '<span style="color: #268bd2; font-weight: bold;">org-habit</span>)
(add-to-list 'org-modules <span style="color: #2aa198;">"org-habit"</span>)
(global-set-key (kbd <span style="color: #2aa198;">"C-c a"</span>) 'org-agenda)
(setq org-log-done t
      org-agenda-show-log t)
(setq org-todo-keywords
      '((sequence <span style="color: #2aa198;">"TODO"</span> <span style="color: #2aa198;">"INPROGRESS"</span> <span style="color: #2aa198;">"DONE"</span>)))
(setq org-todo-keyword-faces
      '((<span style="color: #2aa198;">"INPROGRESS"</span> . (<span style="color: #657b83; font-weight: bold;">:foreground</span> <span style="color: #2aa198;">"blue"</span> <span style="color: #657b83; font-weight: bold;">:weight</span> bold))))
(setq org-agenda-files (list <span style="color: #2aa198;">"~/Dropbox/org/personal.org"</span>
                             <span style="color: #2aa198;">"~/Dropbox/org/groupon.org"</span>))
(setq org-habit-preceding-days 7
      org-habit-following-days 1
      org-habit-graph-column 80
      org-habit-show-habits-only-for-today t)
</pre>


</div>

<div id="outline-container-1-5-1" class="outline-4">
<h4 id="sec-1-5-1">org-babel</h4>
<div class="outline-text-4" id="text-1-5-1">

<p>    <code>org-babel</code> is a feature inside of <code>org-mode</code> that makes this
    document possible. It allows for embedding languages inside of an
    <code>org-mode</code> document with all the proper font-locking. It also
    allows you to extract and execute code. It isn't aware of
    <code>Clojure</code> by default, so the following sets that up.
</p>


<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">require</span> '<span style="color: #268bd2; font-weight: bold;">ob</span>)

(org-babel-do-load-languages
 'org-babel-load-languages
 '((sh . t)))

(add-to-list 'org-babel-tangle-lang-exts '(<span style="color: #2aa198;">"clojure"</span> . <span style="color: #2aa198;">"clj"</span>))

(<span style="color: #859900; font-weight: bold;">defvar</span> <span style="color: #268bd2;">org-babel-default-header-args:clojure</span>
  '((<span style="color: #657b83; font-weight: bold;">:results</span> . <span style="color: #2aa198;">"silent"</span>) (<span style="color: #657b83; font-weight: bold;">:tangle</span> . <span style="color: #2aa198;">"yes"</span>)))

(<span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">org-babel-execute:clojure</span> (body params)
  (lisp-eval-string body)
  <span style="color: #2aa198;">"Done!"</span>)

(<span style="color: #859900; font-weight: bold;">provide</span> '<span style="color: #268bd2; font-weight: bold;">ob-clojure</span>)

(setq org-src-fontify-natively t)
(setq org-confirm-babel-evaluate nil)
</pre>

</div>
</div>

</div>

<div id="outline-container-1-6" class="outline-3">
<h3 id="sec-1-6">Utilities</h3>
<div class="outline-text-3" id="text-1-6">


</div>

<div id="outline-container-1-6-1" class="outline-4">
<h4 id="sec-1-6-1">deft</h4>
<div class="outline-text-4" id="text-1-6-1">

<p>    <code>deft</code> provides random note taking with history and
    searching. Since I use <code>org-mode</code> for everything else, I turn that
    on as the default mode for <code>deft</code> and put the files in Dropbox.
</p>


<pre class="src src-emacs-lisp">(setq deft-directory <span style="color: #2aa198;">"~/Dropbox/deft"</span>)
(setq deft-use-filename-as-title t)
(setq deft-extension <span style="color: #2aa198;">"org"</span>)
(setq deft-text-mode 'org-mode)
</pre>

</div>

</div>

<div id="outline-container-1-6-2" class="outline-4">
<h4 id="sec-1-6-2">Smex</h4>
<div class="outline-text-4" id="text-1-6-2">

<p>    <code>smex</code> is a necessity. It provides history and searching on top of <code>M-x</code>.
</p>


<pre class="src src-emacs-lisp">(setq smex-save-file (expand-file-name <span style="color: #2aa198;">".smex-items"</span> user-emacs-directory))
(smex-initialize)
(global-set-key (kbd <span style="color: #2aa198;">"M-x"</span>) 'smex)
(global-set-key (kbd <span style="color: #2aa198;">"M-X"</span>) 'smex-major-mode-commands)
</pre>

</div>

</div>

<div id="outline-container-1-6-3" class="outline-4">
<h4 id="sec-1-6-3">Ido</h4>
<div class="outline-text-4" id="text-1-6-3">

<p>    <code>Ido</code> mode provides a nice way to navigate the filesystem. This is
    mostly just turning it on.
</p>


<pre class="src src-emacs-lisp">(ido-mode t)
(setq ido-enable-flex-matching t
      ido-use-virtual-buffers t)
</pre>

</div>

</div>

<div id="outline-container-1-6-4" class="outline-4">
<h4 id="sec-1-6-4">Column number mode</h4>
<div class="outline-text-4" id="text-1-6-4">

<p>    Turn on column numbers.
</p>


<pre class="src src-emacs-lisp">(setq column-number-mode t)
</pre>

</div>

</div>

<div id="outline-container-1-6-5" class="outline-4">
<h4 id="sec-1-6-5">Temporary file management</h4>
<div class="outline-text-4" id="text-1-6-5">

<p>    Deal with temporary files. I don't care about them and this makes
    them go away.
</p>


<pre class="src src-emacs-lisp">(setq backup-directory-alist `((<span style="color: #2aa198;">".*"</span> . ,temporary-file-directory)))
(setq auto-save-file-name-transforms `((<span style="color: #2aa198;">".*"</span> ,temporary-file-directory t)))
</pre>

</div>

</div>

<div id="outline-container-1-6-6" class="outline-4">
<h4 id="sec-1-6-6">autopair-mode</h4>
<div class="outline-text-4" id="text-1-6-6">

<p>    This makes sure that brace structures <code>(), [], {}</code>, etc. are closed
    as soon as the opening character is typed.
</p>


<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">require</span> '<span style="color: #268bd2; font-weight: bold;">autopair</span>)
</pre>

</div>

</div>

<div id="outline-container-1-6-7" class="outline-4">
<h4 id="sec-1-6-7">Power lisp</h4>
<div class="outline-text-4" id="text-1-6-7">

<p>    A bunch of tweaks for programming in LISP dialects. It defines the
    modes that I want to apply these hooks to. To add more just add
    them to <code>lisp-modes</code>. This also creates its own minor mode to
    properly capture the behavior. It remaps some keys to make paredit
    work a little easier as well. It also sets <code>clisp</code> as the default
    lisp program and <code>racket</code> as the default scheme program.
</p>


<pre class="src src-emacs-lisp">(setq lisp-modes '(lisp-mode
                   emacs-lisp-mode
                   common-lisp-mode
                   scheme-mode
                   clojure-mode))

(<span style="color: #859900; font-weight: bold;">defvar</span> <span style="color: #268bd2;">lisp-power-map</span> (make-keymap))
(<span style="color: #859900; font-weight: bold;">define-minor-mode</span> <span style="color: #268bd2;">lisp-power-mode</span> <span style="color: #2aa198;">"Fix keybindings; add power."</span>
  <span style="color: #657b83; font-weight: bold;">:lighter</span> <span style="color: #2aa198;">" (power)"</span>
  <span style="color: #657b83; font-weight: bold;">:keymap</span> lisp-power-map
  (paredit-mode t))
(define-key lisp-power-map [delete] 'paredit-forward-delete)
(define-key lisp-power-map [backspace] 'paredit-backward-delete)

(<span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">abedra/engage-lisp-power</span> ()
  (lisp-power-mode t))

(<span style="color: #859900; font-weight: bold;">dolist</span> (mode lisp-modes)
  (add-hook (intern (format <span style="color: #2aa198;">"%s-hook"</span> mode))
            #'abedra/engage-lisp-power))

(setq inferior-lisp-program <span style="color: #2aa198;">"clisp"</span>)
(setq scheme-program-name <span style="color: #2aa198;">"racket"</span>)
</pre>

</div>

</div>

<div id="outline-container-1-6-8" class="outline-4">
<h4 id="sec-1-6-8">auto-complete</h4>
<div class="outline-text-4" id="text-1-6-8">

<p>    Turn on auto complete.
</p>


<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">require</span> '<span style="color: #268bd2; font-weight: bold;">auto-complete-config</span>)
(ac-config-default)
</pre>

</div>

</div>

<div id="outline-container-1-6-9" class="outline-4">
<h4 id="sec-1-6-9">Indentation and buffer cleanup</h4>
<div class="outline-text-4" id="text-1-6-9">

<p>    This re-indents, untabifies, and cleans up whitespace. It is stolen
    directly from the emacs-starter-kit.
</p>


<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">untabify-buffer</span> ()
  (interactive)
  (untabify (point-min) (point-max)))

(<span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">indent-buffer</span> ()
  (interactive)
  (indent-region (point-min) (point-max)))

(<span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">cleanup-buffer</span> ()
  <span style="color: #2aa198;">"Perform a bunch of operations on the whitespace content of a buffer."</span>
  (interactive)
  (indent-buffer)
  (untabify-buffer)
  (delete-trailing-whitespace))

(<span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">cleanup-region</span> (beg end)
  <span style="color: #2aa198;">"Remove tmux artifacts from region."</span>
  (interactive <span style="color: #2aa198;">"r"</span>)
  (<span style="color: #859900; font-weight: bold;">dolist</span> (re '(<span style="color: #2aa198;">"\\\\&#9474;\&#183;*\n"</span> <span style="color: #2aa198;">"\W*&#9474;\&#183;*"</span>))
    (replace-regexp re <span style="color: #2aa198;">""</span> nil beg end)))

(global-set-key (kbd <span style="color: #2aa198;">"C-x M-t"</span>) 'cleanup-region)
(global-set-key (kbd <span style="color: #2aa198;">"C-c n"</span>) 'cleanup-buffer)

(setq-default show-trailing-whitespace t)
</pre>

</div>

</div>

<div id="outline-container-1-6-10" class="outline-4">
<h4 id="sec-1-6-10">flyspell</h4>
<div class="outline-text-4" id="text-1-6-10">

<p>    The built-in Emacs spell checker. Turn off the welcome flag because
    it is annoying and breaks on quite a few systems. Specify the
    location of the spell check program so it loads properly.
</p>


<pre class="src src-emacs-lisp">(setq flyspell-issue-welcome-flag nil)
(setq-default ispell-program-name <span style="color: #2aa198;">"/usr/local/bin/aspell"</span>)
(setq-default ispell-list-command <span style="color: #2aa198;">"list"</span>)
</pre>

</div>
</div>

</div>

<div id="outline-container-1-7" class="outline-3">
<h3 id="sec-1-7">Language Hooks</h3>
<div class="outline-text-3" id="text-1-7">


</div>

<div id="outline-container-1-7-1" class="outline-4">
<h4 id="sec-1-7-1">Ruby</h4>
<div class="outline-text-4" id="text-1-7-1">

<p>    Turn on <code>autopair</code> for Ruby. Identify additional file
    names/extensions that will trigger <code>ruby-mode</code> when loaded.
</p>


<pre class="src src-emacs-lisp">(add-hook 'ruby-mode-hook
          (<span style="color: #859900; font-weight: bold;">lambda</span> ()
            (autopair-mode)))

(add-to-list 'auto-mode-alist '(<span style="color: #2aa198;">"\\.rake$"</span> . ruby-mode))
(add-to-list 'auto-mode-alist '(<span style="color: #2aa198;">"\\.gemspec$"</span> . ruby-mode))
(add-to-list 'auto-mode-alist '(<span style="color: #2aa198;">"\\.ru$"</span> . ruby-mode))
(add-to-list 'auto-mode-alist '(<span style="color: #2aa198;">"Rakefile"</span> . ruby-mode))
(add-to-list 'auto-mode-alist '(<span style="color: #2aa198;">"Gemfile"</span> . ruby-mode))
(add-to-list 'auto-mode-alist '(<span style="color: #2aa198;">"Capfile"</span> . ruby-mode))
(add-to-list 'auto-mode-alist '(<span style="color: #2aa198;">"Vagrantfile"</span> . ruby-mode))
</pre>

</div>

</div>

<div id="outline-container-1-7-2" class="outline-4">
<h4 id="sec-1-7-2">RVM</h4>
<div class="outline-text-4" id="text-1-7-2">

<p>    Enable Ruby Version Manager mode and tell it to use the default Ruby.
</p>


<pre class="src src-emacs-lisp">(rvm-use-default)
</pre>

</div>

</div>

<div id="outline-container-1-7-3" class="outline-4">
<h4 id="sec-1-7-3">YAML</h4>
<div class="outline-text-4" id="text-1-7-3">

<p>    Add additional file extensions that trigger <code>yaml-mode</code>.
</p>


<pre class="src src-emacs-lisp">(add-to-list 'auto-mode-alist '(<span style="color: #2aa198;">"\\.yml$"</span> . yaml-mode))
(add-to-list 'auto-mode-alist '(<span style="color: #2aa198;">"\\.yaml$"</span> . yaml-mode))
</pre>

</div>

</div>

<div id="outline-container-1-7-4" class="outline-4">
<h4 id="sec-1-7-4">CoffeeScript Mode</h4>
<div class="outline-text-4" id="text-1-7-4">

<p>    The default CoffeeScript mode makes terrible choices. This turns
    everything into 2 space indentations and makes it so the mode
    functions rather than causing you indentation errors every time you
    modify a file.
</p>


<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">coffee-custom</span> ()
  <span style="color: #2aa198;">"coffee-mode-hook"</span>
  (make-local-variable 'tab-width)
  (set 'tab-width 2))

(add-hook 'coffee-mode-hook 'coffee-custom)
</pre>

</div>

</div>

<div id="outline-container-1-7-5" class="outline-4">
<h4 id="sec-1-7-5">JavaScript Mode</h4>
<div class="outline-text-4" id="text-1-7-5">

<p>    <code>js-mode</code> defaults to using 4 spaces for indentation. Change it to 2
</p>


<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">js-custom</span> ()
  <span style="color: #2aa198;">"js-mode-hook"</span>
  (setq js-indent-level 2))

(add-hook 'js-mode-hook 'js-custom)
</pre>

</div>

</div>

<div id="outline-container-1-7-6" class="outline-4">
<h4 id="sec-1-7-6">Markdown Mode</h4>
<div class="outline-text-4" id="text-1-7-6">

<p>    Enable Markdown mode and setup additional file extensions. Use
    pandoc to generate HTML previews from within the mode, and use a
    custom css file to make it a little prettier.
</p>


<pre class="src src-emacs-lisp">(add-to-list 'auto-mode-alist '(<span style="color: #2aa198;">"\\.md$"</span> . markdown-mode))
(add-to-list 'auto-mode-alist '(<span style="color: #2aa198;">"\\.mdown$"</span> . markdown-mode))
(add-hook 'markdown-mode-hook (<span style="color: #859900; font-weight: bold;">lambda</span> () (visual-line-mode t)))
(setq markdown-command <span style="color: #2aa198;">"pandoc --smart -f markdown -t html"</span>)
(setq markdown-css-path (expand-file-name <span style="color: #2aa198;">"markdown.css"</span> abedra/vendor-dir))
</pre>

</div>

</div>

<div id="outline-container-1-7-7" class="outline-4">
<h4 id="sec-1-7-7">CPSA Mode</h4>
<div class="outline-text-4" id="text-1-7-7">

<p>    Enable support for Cryptographic Protocol Shapes Analyzer. This is
    a scheme-ish dialect, so it's a derived from <code>scheme-mode</code>.
</p>


<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">define-derived-mode</span> <span style="color: #268bd2;">cpsa-mode</span> scheme-mode
  (setq mode-name <span style="color: #2aa198;">"CPSA"</span>)
  (setq cpsa-keywords '(<span style="color: #2aa198;">"defmacro"</span> <span style="color: #2aa198;">"defprotocol"</span> <span style="color: #2aa198;">"defrole"</span> <span style="color: #2aa198;">"defskeleton"</span> <span style="color: #2aa198;">"defstrand"</span>))
  (setq cpsa-functions '(<span style="color: #2aa198;">"cat"</span> <span style="color: #2aa198;">"hash"</span> <span style="color: #2aa198;">"enc"</span> <span style="color: #2aa198;">"string"</span> <span style="color: #2aa198;">"ltk"</span> <span style="color: #2aa198;">"privk"</span> <span style="color: #2aa198;">"pubk"</span> <span style="color: #2aa198;">"invk"</span> <span style="color: #2aa198;">"send"</span> <span style="color: #2aa198;">"recv"</span>  <span style="color: #2aa198;">"non-orig"</span> <span style="color: #2aa198;">"uniq-orig"</span> <span style="color: #2aa198;">"trace"</span> <span style="color: #2aa198;">"vars"</span>))
  (setq cpsa-types '(<span style="color: #2aa198;">"skey"</span> <span style="color: #2aa198;">"akey"</span> <span style="color: #2aa198;">"name"</span> <span style="color: #2aa198;">"text"</span>))
  (setq cpsa-keywords-regexp (regexp-opt cpsa-keywords 'words))
  (setq cpsa-functions-regexp (regexp-opt cpsa-functions 'words))
  (setq cpsa-types-regexp (regexp-opt cpsa-types 'words))
  (setq cpsa-font-lock-keywords
        `(
          (,cpsa-keywords-regexp . font-lock-keyword-face)
          (,cpsa-functions-regexp . font-lock-function-name-face)
          (,cpsa-types-regexp . font-lock-type-face)))
  (setq font-lock-defaults '((cpsa-font-lock-keywords))))

(add-to-list 'auto-mode-alist '(<span style="color: #2aa198;">"\\.cpsa$"</span> . cpsa-mode))
</pre>

</div>

</div>

<div id="outline-container-1-7-8" class="outline-4">
<h4 id="sec-1-7-8">Themes</h4>
<div class="outline-text-4" id="text-1-7-8">

<p>    Load solarized-light if in a graphical environment. Load the
    wombat theme if in a terminal.
</p>


<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">if</span> window-system
    (load-theme 'solarized-light t)
  (load-theme 'wombat t))
</pre>

</div>
</div>
</div>
</div>
</div>

<div id="postamble">
<p class="date">Date: 2014-07-07T12:55-0500</p>
<p class="author">Author: Aaron Bedra</p>
<p class="creator"><a href="http://orgmode.org">Org</a> version 7.9.3f with <a href="http://www.gnu.org/software/emacs/">Emacs</a> version 24</p>
<a href="http://validator.w3.org/check?uri=referer">Validate XHTML 1.0</a>

</div>
</body>
</html>
